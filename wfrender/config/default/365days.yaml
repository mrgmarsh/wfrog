renderer: !template
    path: ../../templates/default/main.html
    mime: text/html
    renderer: !data
        source: !accumulator
            slice: week
            span: 60
            storage: !service
                name: storage
        renderer: !multi
            children:
                current: !include
                    path: current.yaml
                chart: !include
                    path: charts.yaml
                    variables:
                        interpolate: off
                summary: !datatable
                    source: !accumulator
                        slice: month
                        span: 12
                        storage: !service
                            name: storage
                        formulas:
                            temp:
                                avg: !avg { index: temp }
                                min: !min { index: temp }
                                max: !max { index: temp }
                            hum: 
                                avg: !avg { index: hum }
                                min: !min { index: hum }
                                max: !max { index: hum }
                            press: 
                                avg: !avg { index: pressure }
                                min: !min { index: pressure }
                                max: !max { index: pressure }
                            wind: 
                                avg: !avg { index: wind }
                                max: !max { index: wind_gust }
                                'deg,dir' : !predominant { index: wind }
                            rain:
                                rate: !max { index: rain_rate }
                                fall: !sum { index: rain }
                            uv:
                                index: !max { index: uv_index }
                    label: 2


